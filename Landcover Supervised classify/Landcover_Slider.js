Explore OUTPUT: https://ucanwhatsappme.users.earthengine.app/view/sliderclassify-by-sanjay-saifi
//Add training data and roi
var water = /* color: #0000ff */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([77.53265554913975, 28.73308047259064]),
            {
              "landcover": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([77.55435490312348, 28.694846823049105]),
            {
              "landcover": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([77.54342777276217, 28.71255788544961]),
            {
              "landcover": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([77.38550041361832, 28.737540045916965]),
            {
              "landcover": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([77.4011803447184, 28.668698249629333]),
            {
              "landcover": 2,
              "system:index": "4"
            })]),
    bare = /* color: #999900 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([77.48016729776859, 28.683171596989776]),
            {
              "landcover": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([77.46081247751712, 28.6794442716432]),
            {
              "landcover": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([77.49600414225911, 28.651430682539303]),
            {
              "landcover": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([77.563466551806, 28.653951041818413]),
            {
              "landcover": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([77.37700326305934, 28.64608169957076]),
            {
              "landcover": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([77.42111567001265, 28.654169875553293]),
            {
              "landcover": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([77.26921680908126, 28.79155567107847]),
            {
              "landcover": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([77.28061242079052, 28.811754418790738]),
            {
              "landcover": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([77.366541353696, 28.778924052725568]),
            {
              "landcover": 1,
              "system:index": "8"
            })]),
    vegetation = /* color: #009999 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([77.37263533257783, 28.71134635670389]),
            {
              "landcover": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([77.45474917700206, 28.72010479221291]),
            {
              "landcover": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([77.52289701552185, 28.725413686224922]),
            {
              "landcover": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([77.50491548628601, 28.724811542335548]),
            {
              "landcover": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([77.55993254683426, 28.752751865213472]),
            {
              "landcover": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([77.5405147150566, 28.757599691206988]),
            {
              "landcover": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([77.24242626868562, 28.799955583517022]),
            {
              "landcover": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([77.27306782447175, 28.804430722674972]),
            {
              "landcover": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([77.26950585089998, 28.821351780165315]),
            {
              "landcover": 3,
              "system:index": "8"
            })]),
    urban = /* color: #ff1a09 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([77.31242092000798, 28.73408117639369]),
            {
              "landcover": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([77.30420263158635, 28.733121587503533]),
            {
              "landcover": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([77.35895879750483, 28.711830684320063]),
            {
              "landcover": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([77.42938287739985, 28.700877227886263]),
            {
              "landcover": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([77.44989641194574, 28.70226999903679]),
            {
              "landcover": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([77.52211247184438, 28.679133172007656]),
            {
              "landcover": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([77.5387207100646, 28.680827432278054]),
            {
              "landcover": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([77.5543676038209, 28.716310479522086]),
            {
              "landcover": 0,
              "system:index": "7"
            })]),
    gzb = 
    /* color: #999900 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[77.58996333181858, 28.699215728677544],
                  [77.60146464407444, 28.70990588311406],
                  [77.61279429495335, 28.71547637574024],
                  [77.61502589285374, 28.718788419899717],
                  [77.61536921560764, 28.723605751419885],
                  [77.60764445364475, 28.727218604402804],
                  [77.60798777639866, 28.72857339208143],
                  [77.60129298269749, 28.73474498041224],
                  [77.60009135305882, 28.73775537905583],
                  [77.58962000906467, 28.74151825539726],
                  [77.5851568132639, 28.743625406951793],
                  [77.58412684500217, 28.74618403384206],
                  [77.58206690847874, 28.753257558483845],
                  [77.58069361746311, 28.75476250191373],
                  [77.57829035818577, 28.755213980713112],
                  [77.5719388872385, 28.751602095659422],
                  [77.56524409353733, 28.75957817512628],
                  [77.56507243216038, 28.773271531710932],
                  [77.55992259085178, 28.778387269792965],
                  [77.55700434744358, 28.780042307814824],
                  [77.55065287649632, 28.781998227984555],
                  [77.54910792410374, 28.780794589143788],
                  [77.54859293997288, 28.775829432109255],
                  [77.54636134207249, 28.773271531710932],
                  [77.54258479177952, 28.762587858083418],
                  [77.53743495047092, 28.75927720205808],
                  [77.53400172293186, 28.762286893692558],
                  [77.53074015676975, 28.76063157403177],
                  [77.5305684953928, 28.758374277647235],
                  [77.53228510916233, 28.756417914634167],
                  [77.53503169119358, 28.755514965494843],
                  [77.53915156424046, 28.755514965494843],
                  [77.54550303518772, 28.750548605652543],
                  [77.5360616594553, 28.737905896711418],
                  [77.52953852713108, 28.74272234720415],
                  [77.5254186540842, 28.74121723027712],
                  [77.522500410676, 28.73880899809171],
                  [77.51838053762913, 28.738658481737072],
                  [77.51529063284397, 28.74136774294559],
                  [77.50705088675022, 28.74407693389816],
                  [77.50464762747288, 28.73745434309417],
                  [77.49606455862522, 28.733540796672028],
                  [77.48010005056858, 28.745130489183126],
                  [77.47117365896702, 28.74407693389816],
                  [77.46842707693577, 28.74663554972867],
                  [77.46293391287327, 28.74859209601649],
                  [77.46241892874241, 28.751150601243495],
                  [77.46241892874241, 28.75280607122536],
                  [77.4646505266428, 28.755063487996892],
                  [77.46396388113499, 28.757772323701577],
                  [77.45211924612522, 28.766048886206054],
                  [77.4481710344553, 28.76634983974939],
                  [77.44456614553928, 28.769208855126898],
                  [77.4342664629221, 28.760330604000565],
                  [77.42139185965061, 28.764393626205248],
                  [77.41898860037327, 28.767252695172374],
                  [77.41710032522678, 28.780343220997484],
                  [77.41607035696507, 28.781697319576544],
                  [77.412637129426, 28.780343220997484],
                  [77.40405406057835, 28.785308163173866],
                  [77.40371073782444, 28.78305140057587],
                  [77.39632929861546, 28.779290021060216],
                  [77.39341105520725, 28.777334050106877],
                  [77.37023676931858, 28.78470636458942],
                  [77.36594523489475, 28.786511749924248],
                  [77.36010874807835, 28.787113538090082],
                  [77.35804881155491, 28.790874635440534],
                  [77.35684718191624, 28.795387773170702],
                  [77.35839213430882, 28.79794513115435],
                  [77.35598887503147, 28.800351998997932],
                  [77.34980906546116, 28.805165567931148],
                  [77.34757746756077, 28.805917667991494],
                  [77.34483088552952, 28.80366135152456],
                  [77.34208430349827, 28.7989981426751],
                  [77.34071101248264, 28.795387773170702],
                  [77.33298625051975, 28.7988477131092],
                  [77.32371653616428, 28.802157113403997],
                  [77.31959666311741, 28.79839642310879],
                  [77.31736506521702, 28.796139943796693],
                  [77.31152857840061, 28.795688642072403],
                  [77.30655039846897, 28.7935825415243],
                  [77.30328883230686, 28.791777278616813],
                  [77.2998556047678, 28.796139943796693],
                  [77.29762400686741, 28.79659124356705],
                  [77.29556407034397, 28.803360505637528],
                  [77.29865397512913, 28.80877559870973],
                  [77.29058589041233, 28.813889594853187],
                  [77.29041422903538, 28.817950530584152],
                  [77.29230250418186, 28.82201130797034],
                  [77.29127253592014, 28.82471840491809],
                  [77.29247416555882, 28.82817737081065],
                  [77.27839793264866, 28.834643824836476],
                  [77.27084483206272, 28.83509495779954],
                  [77.25694026052952, 28.83344079404105],
                  [77.24698390066624, 28.823364865242198],
                  [77.22895945608616, 28.822612891152353],
                  [77.22741450369358, 28.82366565335751],
                  [77.22604121267796, 28.828929304710016],
                  [77.22398127615452, 28.832237749339498],
                  [77.22192133963108, 28.83359117365097],
                  [77.22054804861546, 28.82697426527432],
                  [77.22312296926975, 28.823064076257964],
                  [77.22277964651585, 28.82080813117941],
                  [77.21968974173069, 28.81749932332218],
                  [77.21797312796116, 28.813137552342305],
                  [77.21865977346897, 28.81103180442647],
                  [77.20200861990452, 28.813889594853187],
                  [77.19874705374241, 28.804714305289185],
                  [77.19977702200413, 28.79583907619759],
                  [77.2068151384592, 28.786210854538982],
                  [77.21402491629124, 28.784104562532224],
                  [77.22398127615452, 28.786210854538982],
                  [77.22775782644749, 28.784104562532224],
                  [77.22071970999241, 28.778989104839216],
                  [77.23290766775608, 28.775227578834006],
                  [77.23342265188694, 28.770412627642436],
                  [77.23531092703342, 28.77101450869273],
                  [77.23857249319553, 28.761835445479225],
                  [77.236855879426, 28.758675253318557],
                  [77.2420057207346, 28.757019876388853],
                  [77.24921549856663, 28.755063487996892],
                  [77.25539530813694, 28.755665457560323],
                  [77.25934351980686, 28.75069910487562],
                  [77.25951518118382, 28.74799008567774],
                  [77.25694026052952, 28.745582009623828],
                  [77.25453700125217, 28.739712091666206],
                  [77.25694026052952, 28.737303824788125],
                  [77.26157511770725, 28.734895502404143],
                  [77.2749647051096, 28.735347067078983],
                  [77.28165949881077, 28.730530276617856],
                  [77.28646601736546, 28.72435843942078],
                  [77.29092921316624, 28.72255197911496],
                  [77.28938426077366, 28.72089602974923],
                  [77.28698100149632, 28.714121418352],
                  [77.28835429251194, 28.709153091087224],
                  [77.29642237722874, 28.70328112737034],
                  [77.29934062063694, 28.70855085356547],
                  [77.29934062063694, 28.710508112835132],
                  [77.313760176301, 28.71336865666262],
                  [77.3159917742014, 28.71261588955563],
                  [77.31753672659397, 28.71397086644754],
                  [77.32131327688694, 28.712465335484115],
                  [77.32251490652561, 28.710809226395533],
                  [77.32543314993382, 28.712916997048524],
                  [77.33092631399632, 28.712314781195918],
                  [77.32543314993382, 28.709002532031807],
                  [77.32611979544163, 28.702979992142655],
                  [77.32371653616428, 28.699065155322607],
                  [77.33075465261936, 28.688072715327316],
                  [77.3328145891428, 28.681295978643295],
                  [77.3298963457346, 28.678886366587342],
                  [77.32457484304905, 28.677982747774724],
                  [77.32405985891819, 28.671355971639265],
                  [77.31976832449436, 28.660360623058953],
                  [77.31993998587132, 28.654335285331776],
                  [77.32199992239475, 28.649514765833665],
                  [77.3159917742014, 28.638215805016447],
                  [77.32199992239475, 28.63655852176023],
                  [77.32594813406467, 28.632791871557217],
                  [77.33075465261936, 28.631586514938228],
                  [77.33401621878147, 28.627066304324533],
                  [77.34019602835178, 28.62375135949097],
                  [77.34156931936741, 28.610189131617723],
                  [77.35015238821507, 28.608832812502605],
                  [77.35427226126194, 28.61003843035864],
                  [77.35461558401585, 28.611545433220304],
                  [77.3551305681467, 28.631586514938228],
                  [77.3712667375803, 28.631435844387475],
                  [77.37984980642796, 28.63625719471947],
                  [77.38139475882053, 28.641078323528706],
                  [77.37864817678928, 28.647707013892273],
                  [77.3819097429514, 28.650267986612526],
                  [77.379678145051, 28.652979536621224],
                  [77.38105143606663, 28.653883371042653],
                  [77.3825963884592, 28.65328081562736],
                  [77.38602961599827, 28.65448592299531],
                  [77.38877619802952, 28.651925053282792],
                  [77.38602961599827, 28.641680949052862],
                  [77.3903211504221, 28.634599880527855],
                  [77.3983892351389, 28.63655852176023],
                  [77.401650801301, 28.631586514938228],
                  [77.40662898123264, 28.629175760169513],
                  [77.4148687273264, 28.62947710754381],
                  [77.42259348928928, 28.62360067769319],
                  [77.43031825125217, 28.624655445735947],
                  [77.43357981741428, 28.62284726546025],
                  [77.4423345476389, 28.62284726546025],
                  [77.44593943655491, 28.627970362020516],
                  [77.45538081228733, 28.636859847935646],
                  [77.45812739431858, 28.638517126432458],
                  [77.47254694998264, 28.6272169811479],
                  [77.48095835745335, 28.632641202736938],
                  [77.49451960623264, 28.642584880848347],
                  [77.50035609304905, 28.6480083080464],
                  [77.50739420950413, 28.644091416531793],
                  [77.51202906668186, 28.642886189715952],
                  [77.51735056936741, 28.649514765833665],
                  [77.52267207205296, 28.64891218531545],
                  [77.54361476004124, 28.63294254016116],
                  [77.5470479875803, 28.635353208405306],
                  [77.54773463308811, 28.64620053013853],
                  [77.54224146902561, 28.652828896793537],
                  [77.54945124685764, 28.652226335318673],
                  [77.55734767019749, 28.6480083080464],
                  [77.5638708025217, 28.649514765833665],
                  [77.56764735281467, 28.653130176232484],
                  [77.56421412527561, 28.66126439384937],
                  [77.5525411516428, 28.665481887837633],
                  [77.54773463308811, 28.66668685494864],
                  [77.54807795584202, 28.673615146959353],
                  [77.54361476004124, 28.67903696896489],
                  [77.5473913103342, 28.68114537951388],
                  [77.5473913103342, 28.685060886498174],
                  [77.56078089773655, 28.687169175774756],
                  [77.56421412527561, 28.691686795566515],
                  [77.56421412527561, 28.697107681994773],
                  [77.5686773210764, 28.7016248728937],
                  [77.5855001360178, 28.701323732899706]]]),
            {
              "system:index": "0"
            })]);
// Supervised landcover classification of sentinel data
// Select and add dataset Sentinel-2 MSI: MultiSpectral Instrument, Level-2A
var img = ee.ImageCollection("COPERNICUS/S2_SR")
             .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 30))
             .filter(ee.Filter.date('2019-01-01', '2019-12-31'))
             .filter(ee.Filter.bounds(gzb))
             .select('B.*')
// clip the data to region of interest
var image = img.median().clip(gzb) 

// Display the input composite.
var band = {
  min: 0.0,
  max: 3000,
  bands: ['B4', 'B3', 'B2'],
};
Map.setCenter(77.4, 28.7, 10);
Map.addLayer(image, band, 'image');


















// Make another map and add a color-NIR composite to it.
var linkedMap = ui.Map();



var gcps = urban.merge(bare).merge(water).merge(vegetation)

// Overlay the point on the image to get training data.
var training = image.sampleRegions({
  collection: gcps, 
  properties: ['landcover'], 
  scale: 10
});


// Train a classifier.
var classifier = ee.Classifier.smileRandomForest(50).train({
  features: training,  
  classProperty: 'landcover', 
  inputProperties: image.bandNames()
});
// // Classify the image.
var classified = image.classify(classifier);
//Map.addLayer(classified, {min: 0, max: 3, palette: ['red', 'yellow', 'blue', 'green']}, '2019'); 



linkedMap.addLayer(classified,{min: 0, max: 3, palette: ['red', 'yellow', 'blue', 'green']}, '2019'); 

// Link the default Map to the other map.
var linker = ui.Map.Linker([ui.root.widgets().get(0), linkedMap]);

// Make an inset map and add it to the linked map.
var inset = ui.Map({style: {position: "bottom-right"}});
linkedMap.add(inset);

// Register a function to the linked map to update the inset map.
linkedMap.onChangeBounds(function() {
  var bounds = ee.Geometry.Rectangle(Map.getBounds());
  inset.centerObject(bounds);
  inset.layers().set(0, bounds);
});

// Create a SplitPanel which holds the linked maps side-by-side.
var splitPanel = ui.SplitPanel({
  firstPanel: linker.get(0),
  secondPanel: linker.get(1),
  orientation: 'horizontal',
  wipe: true,
  style: {stretch: 'both'}
});

// Set the SplitPanel as the only thing in root.
ui.root.widgets().reset([splitPanel]);
linkedMap.setCenter(77.5,28.7,12); 
            
